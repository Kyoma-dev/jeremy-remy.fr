<!DOCTYPE html>
<html lang="FR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}Jérémy REMY | Développeur web fullstack{% endblock %}</title>
        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}">

        {% block meta %}
        <meta name="description" content="Jérémy REMY, développeur web fullstack basé à Montfort-en-Chalosse, France. Spécialisé en Symfony, JavaScript, et développement de sites web responsive.">
        <meta name="keywords" content="Développeur web, Symfony, JavaScript, Fullstack, React, Développement web, Site internet, Montfort-en-Chalosse, Landes">
        <meta name="author" content="Jérémy REMY">
        <!-- Open Graph Meta Tags pour les réseaux sociaux -->
        <meta property="og:title" content="Jérémy REMY | Développeur Web Fullstack">
        <meta property="og:description" content="Découvrez les services de développement web de Jérémy REMY, spécialiste du web dynamique.">
        <meta property="og:url" content="https://jeremy-remy.fr">
        <meta property="og:type" content="website">
        <meta property="og:image" content="{{ asset('images/og-image.png') }}">
        <!-- Twitter Card -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Jérémy REMY | Développeur Web Fullstack">
        <meta name="twitter:description" content="Découvrez les services de développement web de Jérémy REMY, spécialiste du web dynamique.">
        <meta name="twitter:image" content="{{ asset('images/twitter-image.png') }}">
        {% endblock %}

        {% block structured_data %}
            <script type="application/ld+json">
                {
                    "@context": "https://schema.org",
                    "@type": "Person",
                    "name": "Jérémy REMY",
                    "url": "https://jeremy-remy.fr",
                    "image": "{{ asset('images/avatar.png') }}",
                    "sameAs": [
                        "https://www.linkedin.com/in/jérémy-remy/",
                        "https://github.com/Kyoma-dev"
                    ],
                    "jobTitle": "Développeur Web Fullstack",
                    "worksFor": {
                    "@type": "Organization",
                    "name": "Jérémy REMY"
                },
                    "description": "Développeur Web Fullstack spécialisé en Symfony et JavaScript, basé à Montfort-en-Chalosse.",
                    "alumniOf": {
                    "@type": "EducationalOrganization",
                    "name": "ENI-ECOLE INFORMATIQUE"
                    },
                    "contactPoint": {
                    "@type": "ContactPoint",
                    "email": "contact@jeremy-remy.fr",
                    "contactType": "customer service",
                    "areaServed": "FR",
                    "availableLanguage": ["French", "English"]
                    }
                }
            </script>
        {% endblock %}

        <!-- CSS -->

        <link rel="stylesheet" href="{{ asset('css/app.css') }}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

        <!-- Google Font integration -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Baloo+Paaji+2&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}

            <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        

            <!-- Cookie Consent Initialization -->
            <script>
    window.addEventListener("load", function(){
        window.cookieconsent.initialise({
            "palette": {
                "popup": {
                    "background": "#000"
                },
                "button": {
                    "background": "#6ab797"
                }
            },
            "theme": "classic",
            "content": {
                "message": "Nous utilisons des cookies pour améliorer votre expérience sur notre site.",
                "dismiss": "Accepter",
                "deny": "Refuser",
                "link": "En savoir plus",
            },
            "type": "opt-in",
            "revokable": true,
            "position": "bottom-right", // Position de la bannière
            "onStatusChange": function(status) {
                if (status === 'allow') {
                    // Charger Google Analytics après consentement
                    loadGoogleAnalytics();
                } else {
                    // Si refus, ne pas charger Google Analytics
                    console.log("Google Analytics non chargé en raison du refus des cookies.");
                }
            },
            "onInitialise": function(status) {
                if (status === 'allow') {
                    // Charger Google Analytics si le consentement a déjà été donné
                    loadGoogleAnalytics();
                }
            }
        });

        function loadGoogleAnalytics() {
            if (!document.getElementById('ga-script')) {
                var gaScript = document.createElement('script');
                gaScript.id = 'ga-script';
                gaScript.async = true;
                gaScript.src = "https://www.googletagmanager.com/gtag/js?id=G-08QPWHSZB2";
                document.head.appendChild(gaScript);

                var gaConfig = document.createElement('script');
                gaConfig.innerHTML = `
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());
                    gtag('config', 'G-08QPWHSZB2', { 'anonymize_ip': true });
                `;
                document.head.appendChild(gaConfig);
            }
        }
    });
</script>

            <script type="module" src="{{ asset('js/app.js') }}" defer></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
            <script src="https://kit.fontawesome.com/fb9d8ce2a5.js" crossorigin="anonymous"></script>
            <script src="https://www.google.com/recaptcha/api.js" async defer></script>
            <!-- Chargez d'abord three.js et GLTFLoader.js -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/three@0.134.0/examples/js/loaders/GLTFLoader.js"></script>

            <!-- Puis chargez votre script avatar.js -->
            <script src="{{ asset('js/avatar.js') }}" defer></script>
            <script> var modelUrl = "{{ asset('models/jeremy.glb') }}";</script>
        {% endblock %}
    </head>
    <body>
        {% block body %}{% endblock %}
    </body>
</html>
